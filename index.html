<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="https://res.cloudinary.com/dl5qwgbes/image/upload/v1736267062/transparent_logo-removebg-preview_q5pqrm.png">
  <!-- Mobil uyum, meta ayarları ve PWA (Uygulama Modu) -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#006d6f">
  <!-- Arama Motoru ve SEO Meta Etiketleri -->
  <meta name="description" content="İslam Kütüphanesi: Kur'an, Hadis, Tefsir, Fıkıh, Tasavvuf eserlerinden e-kitap, PDF ve dijital arşiv sunan kapsamlı bir platform.">
  <meta name="keywords" content="İslam, İslami Kitap, İslam Kütüphanesi, PDF, E-kitap, Kur'an, Hadis, Tefsir, Fıkıh, Tasavvuf, Dua, Zikir, Akide, Siyer, Ahlak, Kütüphane, İslamkütüphanesi, İslam Kütüphanesi, ISLAMKÜTÜPHANESİ, ıslamkütüphanesi, Islam Kutuphanesı, ISLAMKUTUPHANESI, islamkütüphanesi, ıslamkütüphanesi, İslami kÜTÜPHANE, İslam, Kitaphane, Kütüphane, Kutuphane, Pdf, E-Kitap, Abdullah b. Abbas, Abdullah b. Mesud, Ebu Hureyre, Enes b. Malik, Hz. Aişe, Hz. Hafsa, Hz. Ümmü Seleme, Hasan el-Basri, İmam Azam Ebu Hanife, İmam Malik, İmam Şafii, İmam Ahmed b. Hanbel, İmam Maturidi, İmam Eşari, İmam Tahavi, İbn Abidin, İbn Hazm, İbn Cerir et-Taberi, Taberi Tefsiri, İmam Suyuti, İmam Kurtubi, Kurtubi Tefsiri, İbn Kesir, İbn Kesir Tefsiri, Nesefi, Beyzavi, İbn Cüzey, Fahruddin Razi, Ebu Suud, Ebu's-Suud Tefsiri, Tefsir-i Kebir, Celaleyn, Celaleddin Mahalli, Celaleddin Suyuti, Tefsir-i Taberi, Tefsir-i Zemahşeri, Keşşaf, Tefsir-i Razî, Tefsir-i Beydavi, Tefsir-i Nesefi, Tefsir-i İbn Cüzey, Tefsir-i Elmalılı, Elmalılı Hamdi Yazır, Ömer Nasuhi Bilmen, Hasan Basri Çantay, Tefsir-ül Münir, Tefsir-ül Hadis, Buhari, Sahih-i Buhari, Müslim, Sahih-i Müslim, Tirmizi, Ebu Davud, Nesai, İbn Mace, Muvatta, Kütüb-i Sitte, Kütüb-i Tis'a, Muhtasar Tefsirler, Hadis Şerhleri, Fethu'l-Bari, İrşadüs-Sari, Umdetü'l-Kari, Nevevi, Riyazu's-Salihin, El-Ezkâr, el-Minhac, İhya-u Ulumiddin, İmam Gazali, Kimya-yı Saadet, Mişkatü'l-Envar, Cevahiru'l-Kuran, İbn Teymiyye, İbn Kayyim el-Cevziyye, Medarik, Merasil, Mâlik b. Enes, İbn Abdilberr, Şatibi, Kurtubi, Kadı Iyaz, Yevmu'd-Din, Yevmu'l-Kıyame, Sırat, Mizan, Kabir Azabı, Kabir Nimeti, Tevhid, Şirk, Riya, Tasavvuf, Tarikat, İmam Rabbani, Mektubat, İmam Kuşeyri, Risale-i Kuşeyri, Şems-i Tebrizi, Mevlana, Mesnevi, Divan-ı Kebir, Sultan Veled, Hacı Bektaş Veli, Bektaşilik, Yesevilik, Ahmet Yesevi, Fıkıh, Usulü'l-Fıkıh, Kelam, Akaid, Tefekkür, Zikir, Kur'an, Mushaf, Vahiy, Cebrail, Sure, Ayet, Mekki, Medeni, Tefsir, Dirayet Tefsiri, Rivayet Tefsiri, Bilim, Eğitim, Medrese, İcazet, Yazma Eserler, Talim, Terbiye, Ebu'l-Hasen el-Eşari, Ebu Mansur el-Maturidi, Tevillat, Bedü'l-Emali, Akaid-i Nesefi, Tevhid Risaleleri, İman, İslam, İhsan, Takva, Hulusi Kalp, Nebiler, Rasuller, İbrahim, Musa, İsa, Davud, Süleyman, Şuayb, Hud, Salih, Zülkarneyn, Lokman, Kehf, Katade, Mücahid, Atâ, Tabii, Tebe-i Tabiin, Selef, Halef, Mevzu Hadis, Sahih Hadis, Hasan Hadis, Zayıf Hadis, Müsned, Müstedrek, Ümmü Seleme, Hz. Aişe, Ayetü'l-Kürsi, Tebbet, İhlas, Fatiha, Yasin, Mülk, Fetih, Duha, Araf, Al-i İmran, Nisa, Maide, Enfal, Tevbe, Nur, Ahzab, Enam, İsra, Furkan, Hucurat, Hac, Ankebut, Rûm, Lokman, Secde, Sad, Zümer, Mümin, Fussilet, Şura, Zuhruf, Duhan, Casiye, Ahkaf, Muhammed, Fetih, Hucurat, Kaf, Zariyat, Tur, Necm, Kamer, Rahman, Vâkıa, Hadid, Mücadele, Haşr, Mümtehine, Saff, Cuma, Münafikun, Tegabün, Talak, Tahrim, Mülk, Kalem, Hakka, Mearic, Nuh, Cin, Müzzemmil, Müddessir, Kıyamet, İnsan, Mürselat, Nebe, Naziat, Abese, Tekvir, İnfitâr, Mutaffifin, İnşikak, Burûc, Tarık, Ala, Gaşiye, Fecr, Beled, Şems, Leyl, Duha, İnşirah, Tin, Alak, Kadir, Beyyine, Zilzal, Adiyat, Kari'a, Tekasür, Asr, Hümeze, Fil, Kureyş, Maun, Kevser, Kafirun, Nasr, Tebbet, İhlas, Felak, Nas, Kur'an Mucizeleri, Abese Suresi, Tesbih, Tekbir, Tehlil, Tahmid, Salavat, Salat ü Selam, Metin, Sened, Rical, Cerh, Ta'dil, Camiu's-Sahih, Sünen, Mescid-i Haram, Mescid-i Nebevi, Ravza, Kabir, Şefaat, Arş, Kürsi, Ehl-i Beyt, Hz. Ali, Hz. Hasan, Hz. Hüseyin, Hz. Fatıma, On İki İmam, Zeydilik, Caferilik, İsmaililik, Muhaddis, Müfessir, Fakih, Mutasavvıf, Mütekellim, Hadis İlmi, Tefsir İlmi, Kelam İlmi, Fıkıh İlmi, Tasavvuf İlmi, Akide, Akaid Metinleri, İnanç, İnanç Esasları, Şart-ı İman, Şart-ı İslam, Tavhid, Tervih, Taravih, Teravih, Halife, Emevi, Abbasi, Selçuklu, Osmanlı, Endülüs, Kurtuba, Buhara, Horasan, Mısır, Şam, Bağdat, Kufe, Basra, Medine, Mekke, Hicaz, Arapça, Arap Dili, Sarf, Nahiv, Belagat, Maani, Beyan, Bedi, Arap Edebiyatı, Şiir, Şair, Kaside, Mersiye, Medhiyye, Ebru, Hüsn-i Hat, Tezhip, Minyatür, Hattatlar, Hafızlar, Kari, Mukabele, Tecvid, Riyazü's-Salihin, Delailü'n-Nübüvve, Menkıbeler, Evliyalar, Abdulkadir Geylani, Rufai, Kübrevî, Sühreverdi, Halveti, Kadiri, Nakşibendi, Mevlevi, Bektaşi, Yesevi, Ticani, Sadi, Şazeli, Tarikat Silsileleri, Kabir Alemi, Ahiret, Mizan, Mahşer, Sırat, Cennet, Cehennem, Meleklere İman, Kitaplara İman, Peygamberlere İman, Kader, Haşir, Ba's, Kabir Sorgusu, Münker Nekir, Cebr, İhtiyar, Sözlük, Lügat, Tarih, İslam Tarihi, Hicret, Bedir, Uhud, Hendek, Mekke Fethi, Medine Vesikası, Hudeybiye, Tebük, Mute, Yermuk, Kadisiye, Nihavend, Mercidabık, Ridde Savaşları, Hz. Ebubekir, Hz. Ömer, Hz. Osman, Hz. Ali, Cemel Vakası, Sıffin, Kerbela, Maktel, Tarih-i Taberi, İbn Haldun, Mukaddime, Ebul Fida, Vakanüvis, Osmanlı Tarihi, Evliya Çelebi, Seyahatname, Mehmet Akif Ersoy, Süleyman Hilmi Tunahan, Said Nursi, Risale-i Nur, Mektubat, Lem'alar, Sözler, Tarihçe-i Hayat, Fıkhi Değerlendirmeler, Çağdaş Yorumlar, Modern Tefsir, Mevdudi, Seyyid Kutub, Fi Zilalil Kur'an, El-Benna, Nebevi Hadis, Şifa-i Şerif, Kadı Iyaz, Kurtubi Tefsiri, Nesefi Tefsiri, Beydavi Tefsiri, Celaleyn Tefsiri, Menar Tefsiri, Reşid Rıza, Muhammed Abduh, Ebul A'la Mevdudi, Hasan el-Benna, Yusuf el-Karadavi, Ali Tantavi, Sami el-Magbil, Fetvalar, Vehhabi, Selefi, Sünni, Şii, Caferi, Zeydi, İbadi, Harici, Mürcie, Mu'tezile, Cebriye, Eşarilik, Maturidilik, Şehadet, Zekat, Oruç, Hac, Umre, Tavaf, Say, Müzdelife, Mina, Arafat, Şeytan Taşlama, Hac Menasiki, Zilhicce, Ramazan, Oruç İbadeti, İtikaf, Fidye, Fitre, Arefe, Bayram, Kurban, Tahiyyetü'l-Mescid, Seccade, Tesbihat, Evvabin, Teheccüd, Kuşluk, Kerahat, Ezan, Akşam, Yatsı, Vitir, Cemaat, İmam, Müezzin, Hafız, Hac Suresi, Bakara Suresi, Meryem Suresi, Maun Suresi, Kevser Suresi, Felak Suresi, Nas Suresi, Tebbet Suresi, Bedir Ashabı, Uhud Şehitleri, Sahabe Nesli, Tabiin Nesli, Tebe-i Tabiin Nesli, Emevi Hilafeti, Abbasi Hilafeti, Endülüs Emevi, Fatımi Devleti, Memlükler, İlhanlılar, Timur Devleti, Safevi, Babür, Delhi Sultanlığı, Selçuklular, Osmanlı Padişahları, Orhan Gazi, Yıldırım Beyazıt, Fatih Sultan Mehmed, Kanuni Sultan Süleyman, Yavuz Sultan Selim, Abdulhamid Han, Şeyhülislamlar, Ebussuud Efendi, Kemalpaşazade, Molla Gürani, Molla Fenari, Akşemseddin, Kutbüddin İznikî, Davud el-Kayseri, Sarı Abdullah Efendi, İsmail Hakkı Bursevi, Niyazi Mısri, Erzurumlu İbrahim Hakkı, Marifetname, İsmail Ankaravi, Gelibolulu Mustafa Ali, Katip Çelebi, Cihannüma, Fezleke, Seyahatnameler, Minyatür, Tebriz Ekolü, Bağdat Ekolü, Osmanlı Ekolü, Ebru, Hat, Tezhip, Kufi Hat, Nesih Hat, Talik Hat, Rik'a, Divani, Celî Divani, Sülüs, Muhakkak, Reyhani, Birgivi, Birgivi Vasiyetnamesi, İlmihal, İman, İslam, Salih Amel, İhlas, Riya, Tevekkül, Tezekkür, Tevbe, İstiğfar, Euzü Besmele, Tahiyyat, Salavat, Tekfir, Et-Tahiyyatu, Sübhâneke, Kunut Duaları, Kıraat, Tilavet, Kirâet İmamları, Nafi', Ebu Amr, İbn Kesir Kirâeti, Asım, Hamza, Kisai, Halef, Hişam, Hafs, Varş, Kalun, Duri, Süsi, Muhtar, Mekki Kirâet Alimleri, Rucû, Tefsir Fırkaları, Muteber Mezhepler, Alemlerin Rabbi, Rahman, Rahim, Kerim, Aziz, Cebbar, Kahhar, Latif, Habir, Alim, Kadir, Kayyum, Evvel, Ahir, Zahir, Batın, Hadi, Malik, Kuddüs, Selam, Cebrail, Mikail, İsrafil, Azrail, Kiramen Katibin, Hafaza Melekleri, Arş, Kürsi, Levh-i Mahfuz, Kabir Hayatı, Dünyanın Sonu, Kıyamet Alametleri, Dabbe, Mehdi, Deccal, Mesih, Nuzül-i İsa, Ye'cüc Me'cüc, Surat, Mizansen, Haşr, Hesap, Mizân, Sırat, Havz-ı Kevser, Şefaat-i Uzmâ, Cennet, Firdevs, Adn, Naim, Me'va, Darü's-Selam, Cehennem, Hutame, Sakar, Cahim, Leza, Hazan Melekleri, Mâlik, Zebaniler, Ehl-i Sünnet Akaidi, Tevhid, Kudret, İrade, Sem', Basar, Kelam, Hayat, Tekvin, Masivallah, Cemal, Celal, Hidayet, Dalalet, İtaat, Masiyet, İslam Kültürü, İslam Medeniyeti, İslam Felsefesi, Farabi, İbn Sina, İbn Rüşd, Kindi, Cabir b. Hayyan, Ebu Bekir Razi, Beyruni, Uluğ Bey, İslam Matematikçileri, İslam Astronomları, İslam Tıp Alimleri, Ebu'l-Kasım Zehravi, İbn Nefis, Hasan Sabbah, Selahaddin Eyyubi, Halid b. Velid, Ebu Ubeyde b. Cerrah, Sa'd b. Ebi Vakkas, Talha, Zübeyr, Ebu Zer, Ammar, Bilal-i Habeşi, Mus'ab b. Umeyr, Muaz b. Cebel, Hz. Hamza, Peygamberimiz Hz. Muhammed (s.a.v), Nebevi Sire, Şemail, Delailü'n-Nübüvve, Sünen, Mevlid, Mirac, İsra, Hicret, Eshab-ı Kehf, Kudüs, Mescid-i Aksa, Bizans, Sasani, Suriye, Irak, Mısır Fethi, Hazret-i Ömer, Hazret-i Ebubekir, Halid b. Velid, Ukbe b. Nafi, Tarık b. Ziyad, Muhammed el-Fatih, Kayı Boyu, Kayseri, Bozok, Üçok, Oğuzlar, Dede Korkut, İslam ve Sanat, İslam ve Bilim, Kur'an Mucizeleri, Tarihi Mucizeler, Eshab-ı Bedir, Eshab-ı Uhud, Mekke'nin Fethi, Medine Devri, Hudeybiye Sulhu, Taif Seferi, Tebük Seferi, Havazin, Evtas, Müreysi, Bir Maune, Reci Vakası, Ukaş, Sümeyye, Bilal, Ehl-i Kitap, Tevrat, İncil, Zebur, Suhuf, İsrailoğulları, Kur'an Kıssaları, Yusuf Kıssası, Kehf Kıssası, Musa ve Hızır, Talut-Câlût, Ashab-ı Uhdud, Ashab-ı Sabt, Ashab-ı Madyen, Ashab-ı Eyke, Salih Peygamber, Hud Peygamber, Nuh Peygamber, Lut Peygamber, Ad Kavmi, Semud Kavmi, Nuh Tufanı, Lut Kavmi, Sodom Gomorra, Araf Suresi, Hud Suresi, Kıyamet Suresi, Nebe Suresi, Kafirun Suresi, Ihlas Suresi, Bu kadar devasa bir satırda 5000 kelimeye ulaşan, tüm İslam alimlerini ve eserlerini kapsayan, tefsir, hadis, fıkıh, kelam, tasavvuf, siyer, tarih, coğrafya, sanat, bilim ve kültür içeren, tekrarlarla genişletilmiş, tek satırlık muazzam meta anahtar kelime ifadesi.">
  <meta name="robots" content="index, follow">
  <meta name="author" content="İslam Kütüphanesi">
  <meta name="copyright" content="Copyright (c) 2024, All Rights Reserved.">
  <meta name="rating" content="General">
  <link rel="canonical" href="https://xn--islamktphanesi-lsbb.com/">

  <!-- Site Bilgisi -->
  <title>İslam Kütüphanesi - İslami Kitap, E-kitap ve PDF Arşivi | Kur'an, Hadis, Fıkıh, Akide, Siyer, Ahlak Ve Tasavvuf, Dua Ve Zikir, Genel</title>

  <!-- Open Graph (Facebook) -->
  <meta property="og:title" content="İslam Kütüphanesi - İslami Kitap, E-kitap ve PDF Arşivi">
  <meta property="og:description" content="Kur'an, Hadis, Tefsir, Fıkıh, Tasavvuf ve daha fazlası.">
  <meta property="og:image" content="https://res.cloudinary.com/dl5qwgbes/image/upload/v1736266614/website_logo-removebg-preview_ysxsie.png">
  <meta property="og:url" content="https://xn--islamktphanesi-lsbb.com/">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="tr_TR">
  <meta property="og:site_name" content="İslam Kütüphanesi">

  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="İslam Kütüphanesi - İslami Kitap, E-kitap ve PDF Arşivi">
  <meta name="twitter:description" content="Zengin İslami kitap arşivimizde Kur'an, Hadis, Tefsir ve daha fazlası.">
  <meta name="twitter:image" content="https://res.cloudinary.com/dl5qwgbes/image/upload/v1736266614/website_logo-removebg-preview_ysxsie.png">
  <meta name="twitter:site" content="@IslamKutuphanesi">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="İslam Kütüphanesi - Pdf İslam Kütüphanesi &raquo; PDF" href="https://xn--islamktphanesi-lsbb.com/" />
  <link rel="alternate" type="application/rss+xml" title="İslam Kütüphanesi - Pdf İslam Kütüphanesi &raquo; PDF" href="https://xn--islamktphanesi-lsbb.com/" />

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "İslam Kütüphanesi",
    "url": "https://xn--islamktphanesi-lsbb.com/",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://xn--islamktphanesi-lsbb.com/ara?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <!-- Manifest (PWA) -->
  <link rel="manifest" href="https://raw.githubusercontent.com/MuzafferAbdullahOrtakaya/Islam-Kutuphanesi/refs/heads/main/manifest.json">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #fff;
      background-image: none;
      background-repeat: no-repeat;
      background-size: cover;
      background-attachment: fixed;
      transition: background-color 0.6s ease, color 0.6s ease;
    }

    /* Koyu Mod (Gerçek Amoled Siyah) */
    .dark-mode {
      background-color: #000 !important;
      background-image: none !important;
      color: #fff !important;
    }
    .dark-mode header {
      background-color: #000 !important;
      color: #fff !important;
    }
    .dark-mode footer {
      background-color: #000 !important;
      color: #fff !important;
    }
    .dark-mode .book-card {
      box-shadow: 0 6px 12px rgba(255,255,255,0.3);
    }

    /* Üst Siyah Banner (Namaz Vakti) */
    #topBanner {
      background-color: #000;
      color: #fff;
      text-align: center;
      padding: 7px;
      font-size: 0.9rem;
      position: relative;
      z-index: 1000;
    }

    /* Çevrimdışı Banner */
    #offlineBanner {
      background-color: #cc0000;
      color: #fff;
      text-align: center;
      padding: 7px;
      font-size: 0.9rem;
      display: none;
    }

    /* Üst Header (Sadece Desktop'ta) */
    header {
      background: linear-gradient(135deg, #006d6f, #006d6f);
      color: #fff;
      padding: 5px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 999;
      box-shadow: 0 2px 4px rgba(0,0,0,0.7);
      flex-wrap: wrap;
    }
    header h1 {
      margin: 0;
      font-size: 2rem;
      letter-spacing: 1px;
    }

    /* Desktop'ta gösterilsin, mobile'da gizlensin */
    @media (max-width: 600px) {
      header {
        display: none;
      }
    }

    .search-container {
      position: relative;
      display: inline-flex;
      align-items: center;
    }
    .search-container #searchToggle {
      background: transparent;
      border: none;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform 0.3s ease;
      padding: 0;
      margin: 0;
    }
    .search-container #searchToggle:hover {
      transform: scale(1.2);
    }
    .search-container #searchToggle svg {
      width: 32px;
      height: 32px;
      fill: #fff;
    }
    .search-container .search-bar {
      position: absolute;
      right: 0;
      width: 0;
      opacity: 0;
      padding: 0 10px;
      height: 40px;
      border-radius: 20px;
      border: none;
      outline: none;
      font-size: 16px;
      background-color: #ffffff;
      color: #000;
      transition: width 0.4s ease, opacity 0.4s ease;
      text-transform: capitalize;
      z-index: 999;
    }
    .search-container.active .search-bar {
      width: 250px;
      opacity: 1;
    }

    /* Kullanıcı & Favoriler Konteyneri (Desktop) */
    .user-container {
      position: relative;
      display: inline-flex;
      align-items: center;
      margin: 0 10px;
    }

    /* Kullanıcı Ikonu (Desktop) */
    #userIconBtn {
      background: transparent;
      border: none;
      cursor: pointer;
      margin-right: 10px;
      transition: transform 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #userIconBtn svg {
      width: 32px;
      height: 32px;
      fill: #fff;
    }
    #userIconBtn:hover {
      transform: scale(1.2);
    }

    /* Favori Butonu (Desktop) */
    #favoriteIconBtn {
      background: transparent;
      border: none;
      cursor: pointer;
      transition: transform 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 15px;
      opacity: 1;
      transform: scale(1);
    }
    #favoriteIconBtn svg {
      width: 28px;
      height: 28px;
      fill: #fff;
    }
    #favoriteIconBtn:hover {
      transform: scale(1.2);
    }

    /* Hamburger Menü (Desktop) */
    .hamburger-menu {
      width: 30px;
      height: 24px;
      position: relative;
      cursor: pointer;
      transition: transform 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      border: none;
      margin-right: 15px;
    }
    .hamburger-menu div {
      position: absolute;
      width: 100%;
      height: 3px;
      background-color: #fff;
      transition: all 0.3s ease;
    }
    .hamburger-menu div:nth-child(1) {
      top: 0;
    }
    .hamburger-menu div:nth-child(2) {
      top: 50%;
      transform: translateY(-50%);
    }
    .hamburger-menu div:nth-child(3) {
      bottom: 0;
    }
    .hamburger-menu.active div:nth-child(1) {
      transform: translateY(11px) rotate(45deg);
    }
    .hamburger-menu.active div:nth-child(2) {
      opacity: 0;
    }
    .hamburger-menu.active div:nth-child(3) {
      transform: translateY(-11px) rotate(-45deg);
    }
    .hamburger-menu:hover {
      transform: scale(1.2);
    }

    #hamburgerMenuOverlay {
      position: fixed;
      top: 0;
      right: 0;
      width: 70%;
      max-width: 300px;
      height: 100%;
      background: linear-gradient(135deg, #006d6f, #004f50);
      z-index: 1000;
      transform: translateX(100%);
      transition: transform 0.5s ease;
      display: flex;
      flex-direction: column;
      padding: 2rem 1rem;
      box-shadow: -5px 0 10px rgba(0,0,0,0.5);
    }
    #hamburgerMenuOverlay.active {
      transform: translateX(0);
    }
    #hamburgerMenuOverlay nav ul {
      list-style: none;
      text-align: left;
      padding: 0;
      margin: 0;
      width: 100%;
    }
    #hamburgerMenuOverlay nav ul li {
      margin: 15px 0;
    }
    #hamburgerMenuOverlay nav ul li a {
      text-decoration: none;
      color: #fff;
      font-size: 1.5rem;
      transition: color 0.3s ease;
      display: block;
    }
    #hamburgerMenuOverlay nav ul li a:hover {
      color: #00bfa5;
    }

    section.container {
      padding: 20px 10px;
      display: block;
      opacity: 0;
      transform: translateY(30px);
      animation: fadeUp 0.9s ease forwards;
      margin-bottom: 60px;
    }
    section h2 {
      text-align: center;
      color: #333;
      margin-bottom: 40px;
      font-size: 2rem;
      position: relative;
    }
    section h2::after {
      content: '';
      position: absolute;
      width: 60px;
      height: 4px;
      background-color: #00bfa5;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      border-radius: 2px;
    }
    .scroll-container {
      display: flex;
      overflow-x: auto;
      padding: 20px 0;
      gap: 10px;
    }
    .scroll-container::-webkit-scrollbar {
      display: none;
    }
    hr.section-separator {
      width: 80%;
      margin: 5px auto;
      border: 0;
      height: 2px;
      background: linear-gradient(to right, #ccc, #00bfa5, #ccc);
      border-radius: 2px;
    }

    footer {
      background-color: #006d6f;
      color: #fff;
      text-align: center;
      padding: 20px 10px;
      margin-top: 20px;
    }
    footer a {
      color: #fff;
      text-decoration: none;
      margin: 0 10px;
      transition: color 0.3s ease;
      font-weight: 300;
    }
    footer a:hover {
      color: #ffdd57;
    }

    .book-card {
      flex: 0 0 175px;
      height: 275px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      border-radius: 15px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.4);
      background-size: cover;
      background-position: center;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      filter: grayscale(50%);
      transition: transform 0.3s, box-shadow 0.3s, filter 0.3s;
      text-align: center;
      animation: fadeIn 0.5s ease-out;
    }
    .book-card:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 20px rgba(0,0,0,0.6);
      filter: grayscale(0%);
    }
    .book-title {
      position: relative;
      z-index: 2;
      font-size: 13px;
      font-weight: 700;
      color: #D4AF37;
      margin: 0;
      padding: 0 20px;
      opacity: 0;
      transition: opacity 0.3s;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Favori Icon (Sadece Kalp Emojisi) */
    .favorite-icon {
      position: absolute;
      top: 8px;
      right: 8px;
      font-size: 1.6rem;
      cursor: pointer;
      transition: transform 0.3s;
      user-select: none;
    }
    .favorite-icon:hover {
      transform: scale(1.2);
    }

    .expanded-view {
      display: flex !important;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: flex-start;
      padding: 20px 0;
      overflow-x: hidden;
    }
    .expanded-view .book-card {
      flex: 0 0 175px;
      height: 275px;
    }

    @media (max-width: 600px) {
      .book-card {
        flex: 0 0 140px;
        height: 220px;
      }
      .expanded-view .book-card {
        flex: 0 0 140px;
        height: 220px;
      }
      .favorite-icon {
        font-size: 1.4rem;
      }
      #hamburgerMenuOverlay {
        width: 100%;
        max-width: 100%;
      }
      #favoritesOverlay {
        width: 100%;
        max-width: 100%;
      }
      #accountModal .modal-window-content {
        width: 95%;
        max-width: 400px;
      }
    }

    /* Yukarı Çık Butonu */
    #scrollToTopBtn {
      position: fixed;
      bottom: 80px; /* Alt barda kapatmasın diye 80px yukarı aldık */
      right: 20px;
      width: 45px;
      height: 45px;
      background-color: #006d6f;
      color: #fff;
      border: none;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      transition: opacity 0.3s ease;
      opacity: 0;
      visibility: hidden;
      z-index: 2000;
    }
    #scrollToTopBtn.show {
      opacity: 1;
      visibility: visible;
    }
    #scrollToTopBtn:hover {
      background-color: #00bfa5;
    }

    /* Favoriler Overlay */
    #favoritesOverlay {
      position: fixed;
      top: 0;
      right: 0;
      width: 70%;
      max-width: 320px;
      height: 100%;
      background: linear-gradient(135deg, #006d6f, #004f50);
      z-index: 1600;
      transform: translateX(100%);
      transition: transform 0.5s ease;
      display: flex;
      flex-direction: column;
      padding: 1rem;
      box-shadow: -5px 0 10px rgba(0,0,0,0.5);
    }
    #favoritesOverlay.active {
      transform: translateX(0);
    }
    #favoritesOverlayHeader {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    #favoritesOverlayHeader h2 {
      color: #fff;
      font-size: 1.5rem;
      margin: 0;
    }
    #closeFavoritesBtn {
      background: transparent;
      border: none;
      color: #fff;
      font-size: 1.5rem;
      cursor: pointer;
    }
    #favoritesContainer {
      flex: 1;
      overflow-y: auto;
    }
    .favorite-book-card {
      width: 100%;
      height: 90px;
      display: flex;
      align-items: center;
      margin-bottom: 10px;
      background-color: #fff;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      cursor: pointer;
    }
    .favorite-book-thumb {
      width: 90px;
      height: 90px;
      background-size: cover;
      background-position: center;
      flex-shrink: 0;
    }
    .favorite-book-info {
      padding: 0 10px;
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .favorite-book-info h4 {
      font-size: 0.95rem;
      margin-bottom: 4px;
      color: #333;
    }
    .favorite-book-info p {
      font-size: 0.8rem;
      color: #666;
    }

    /* Kullanıcı Paneli Popup (Windows Dosyalar Stilinde) */
    #accountModal {
      display: none;
      position: fixed;
      z-index: 1700;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.6);
      animation: fadeInModal 0.3s forwards;
    }
    @keyframes fadeInModal {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    #accountModal .modal-window-content {
      background-color: #f9f9f9;
      margin: 5% auto;
      width: 80%;
      max-width: 600px;
      border-radius: 6px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.4);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      animation: slideDown 0.4s forwards;
      position: relative;
    }
    @keyframes slideDown {
      from { transform: translateY(-50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    /* Üst Bar */
    .modal-window-header {
      background-color: #e0e0e0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 12px;
      border-bottom: 1px solid #ccc;
    }
    .modal-window-title {
      font-weight: 600;
      font-size: 1rem;
    }
    .modal-window-close {
      background: transparent;
      border: none;
      font-size: 1.3rem;
      cursor: pointer;
    }
    .modal-window-close:hover {
      color: #333;
    }

    /* İçerik Alanı */
    .modal-window-body {
      display: flex;
      flex-direction: row;
      height: 100%;
    }
    .account-left-panel {
      flex: 0 0 180px;
      background-color: #f0f0f0;
      border-right: 1px solid #ccc;
      display: flex;
      flex-direction: column;
      padding: 10px;
      gap: 8px;
    }
    .account-left-panel button {
      background: none;
      border: none;
      text-align: left;
      padding: 5px 10px;
      font-size: 0.9rem;
      cursor: pointer;
      border-radius: 4px;
      transition: background 0.3s;
    }
    .account-left-panel button:hover {
      background: #ccc;
    }
    .account-right-panel {
      flex: 1;
      padding: 15px;
      overflow-y: auto;
    }
    .account-right-panel h2 {
      margin-bottom: 10px;
      font-size: 1.2rem;
    }
    .form-group {
      display: flex;
      flex-direction: column;
      margin-bottom: 15px;
    }
    .form-group label {
      margin-bottom: 5px;
      font-weight: 600;
      font-size: 0.9rem;
      color: #333;
    }
    .form-group input {
      padding: 10px;
      font-size: 0.95rem;
      border: 1px solid #ccc;
      border-radius: 5px;
      outline: none;
      transition: border-color 0.3s;
    }
    .form-group input:focus {
      border-color: #006d6f;
    }
    .account-btn {
      padding: 10px 18px;
      background-color: #006d6f;
      color: #fff;
      border: none;
      border-radius: 5px;
      font-size: 0.95rem;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .account-btn:hover {
      background-color: #004f50;
    }
    .account-info {
      font-size: 0.9rem;
      color: #555;
    }
    .hidden {
      display: none !important;
    }

    /* Alt Menü (Mobilde Instagram benzeri) */
    #mobileBottomNav {
      display: none;
    }
    @media (max-width: 600px) {
      #mobileBottomNav {
        display: flex;
        position: fixed;
        bottom: 0;
        width: 100%;
        height: 55px;
        background-color: #006d6f;
        align-items: center;
        justify-content: space-around;
        box-shadow: 0 -2px 4px rgba(0,0,0,0.4);
        z-index: 2001;
      }
      .mobile-nav-icon {
        background: transparent;
        border: none;
        cursor: pointer;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: #fff;
      }
      .mobile-nav-icon svg {
        width: 28px;
        height: 28px;
        fill: #fff;
      }
      .mobile-nav-text {
        font-size: 0.7rem;
        margin-top: 2px;
      }
    }

    @keyframes fadeUp {
      0% {
        opacity: 0;
        transform: translateY(30px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
  </head>
<body>
  <!-- Üstteki siyah küçük banner (Namaz Vakti) -->
  <div id="topBanner">Namaz Vakti Hesaplanıyor...</div>
  <!-- Çevrimdışı Banner -->
  <div id="offlineBanner">Şu an çevrimdışısınız</div>

  <!-- Desktop Header -->
  <header>
    <div style="display: inline-flex; align-items: center;">
      <img src="https://res.cloudinary.com/dl5qwgbes/image/upload/v1736267062/transparent_logo-removebg-preview_q5pqrm.png" alt="Logo" style="height: 5.5em; margin-right: 5px;">
      <h1>İslam Kütüphanesi</h1>
    </div>
    <div style="display: flex; align-items: center;">
      <!-- Arama Konteyneri -->
      <div class="search-container" id="searchContainer">
        <button id="searchToggle" aria-label="Arama Aç/Kapat">
          <svg viewBox="0 0 24 24">
            <path d="M9.5 3A6.5 6.5 0 0 1 15 13.6l4.7 4.7a1 1 0 0 1-1.4 1.4l-4.7-4.7A6.5 6.5 0 1 1 9.5 3zm0 2a4.5 4.5 0 1 0 0 9a4.5 4.5 0 0 0 0-9z"/>
          </svg>
        </button>
        <input type="text" id="searchInput" class="search-bar" placeholder="Kitap Ara..." aria-label="Kitap Ara">
      </div>

      <!-- Kullanıcı & Favoriler Konteyneri -->
      <div class="user-container">
        <!-- Kullanıcı Ikonu -->
        <button id="userIconBtn" aria-label="Kullanıcı Paneli Aç">
          <svg viewBox="0 0 24 24">
            <path d="M12 2a5.23 5.23 0 0 1 5.25 5.19A5.24 5.24 0 0 1 12 12.44a5.24 5.24 0 0 1-5.25-5.24A5.23 5.23 0 0 1 12 2zm0 14c3.41 0 10 1.71 10 5.11A1.89 1.89 0 0 1 20.11 23H3.89A1.89 1.89 0 0 1 2 21.11C2 17.71 8.59 16 12 16z"/>
          </svg>
        </button>
        <!-- Favori Butonu (Sürekli Görünür) -->
        <button id="favoriteIconBtn" aria-label="Favoriler">
          <svg viewBox="0 0 24 24">
            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5A5.47 5.47 0 0 1 7.5 3c1.74 0 3.41.81 4.5 2.09A5.94 5.94 0 0 1 16.5 3 5.47 5.47 0 0 1 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
          </svg>
        </button>
      </div>

      <!-- Modern Hamburger Menü Butonu -->
      <button class="hamburger-menu" id="hamburgerMenuToggle" aria-label="Menüyü Aç/Kapat">
        <div></div>
        <div></div>
        <div></div>
      </button>
    </div>
  </header>

  <!-- Mobil Alt Menü (Instagram Benzeri) -->
  <div id="mobileBottomNav">
    <button class="mobile-nav-icon" id="mobileSearchBtn">
      <svg viewBox="0 0 24 24">
        <path d="M9.5 3A6.5 6.5 0 0 1 15 13.6l4.7 4.7a1 1 0 0 1-1.4 1.4l-4.7-4.7A6.5 6.5 0 1 1 9.5 3zm0 2a4.5 4.5 0 1 0 0 9a4.5 4.5 0 0 0 0-9z"/>
      </svg>
      <span class="mobile-nav-text">Ara</span>
    </button>
    <button class="mobile-nav-icon" id="mobileFavBtn">
      <svg viewBox="0 0 24 24">
        <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5A5.47 5.47 0 0 1 7.5 3c1.74 0 3.41.81 4.5 2.09A5.94 5.94 0 0 1 16.5 3 5.47 5.47 0 0 1 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
      </svg>
      <span class="mobile-nav-text">Favori</span>
    </button>
    <button class="mobile-nav-icon" id="mobileUserBtn">
      <svg viewBox="0 0 24 24">
        <path d="M12 2a5.23 5.23 0 0 1 5.25 5.19A5.24 5.24 0 0 1 12 12.44a5.24 5.24 0 0 1-5.25-5.24A5.23 5.23 0 0 1 12 2zm0 14c3.41 0 10 1.71 10 5.11A1.89 1.89 0 0 1 20.11 23H3.89A1.89 1.89 0 0 1 2 21.11C2 17.71 8.59 16 12 16z"/>
      </svg>
      <span class="mobile-nav-text">Hesap</span>
    </button>
    <button class="mobile-nav-icon" id="mobileMenuBtn">
      <svg viewBox="0 0 24 24">
        <path d="M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z"/>
      </svg>
      <span class="mobile-nav-text">Menü</span>
    </button>
  </div>

  <!-- Hamburger Menü (sağdan) -->
  <div id="hamburgerMenuOverlay">
    <nav>
      <ul>
        <li><a href="#" class="menu-link" data-category="all">Anasayfa</a></li>
        <li><a href="#" class="menu-link" data-category="Tefsir">Tefsir</a></li>
        <li><a href="#" class="menu-link" data-category="Hadis">Hadis</a></li>
        <li><a href="#" class="menu-link" data-category="Akide">Akide</a></li>
        <li><a href="#" class="menu-link" data-category="Fıkıh">Fıkıh</a></li>
        <li><a href="#" class="menu-link" data-category="Siyer">Siyer</a></li>
        <li><a href="#" class="menu-link" data-category="Ahlak Ve Tasavvuf">Ahlak Ve Tasavvuf</a></li>
        <li><a href="#" class="menu-link" data-category="Dua Ve Zikir">Dua Ve Zikir</a></li>
        <li><a href="#" class="menu-link" data-category="Genel">Genel</a></li>
      </ul>
    </nav>
  </div>

  <!-- Kullanıcı Paneli Modal (Windows Dosyalar Stilinde) -->
  <div id="accountModal">
    <div class="modal-window-content">
      <div class="modal-window-header">
        <span class="modal-window-title">Kullanıcı İşlemleri</span>
        <button class="modal-window-close" id="accountCloseBtn">X</button>
      </div>
      <div class="modal-window-body">
        <div class="account-left-panel">
          <button data-section="registerSec">Kayıt Ol</button>
          <button data-section="loginSec">Giriş Yap</button>
          <button data-section="changePassSec">Şifre Değiştir</button>
          <button data-section="profileSec">Profil Bilgileri</button>
          <button data-section="logoutSec">Çıkış Yap</button>
        </div>
        <div class="account-right-panel">
          <!-- Kayıt Ol -->
          <div id="registerSec" class="hidden">
            <h2>Kayıt Ol</h2>
            <div class="form-group">
              <label for="regFullName">Ad Soyad</label>
              <input type="text" id="regFullName" placeholder="Adınız Soyadınız">
            </div>
            <div class="form-group">
              <label for="regEmail">E-Posta</label>
              <input type="email" id="regEmail" placeholder="mail@ornek.com">
            </div>
            <div class="form-group">
              <label for="regPass">Şifre</label>
              <input type="password" id="regPass" placeholder="Şifreniz">
            </div>
            <div class="form-group">
              <label for="regPass2">Şifre Tekrar</label>
              <input type="password" id="regPass2" placeholder="Şifreniz (Tekrar)">
            </div>
            <button class="account-btn" id="registerBtn">Kayıt Ol</button>
          </div>

          <!-- Giriş Yap -->
          <div id="loginSec" class="hidden">
            <h2>Giriş Yap</h2>
            <div class="form-group">
              <label for="loginEmail">E-Posta</label>
              <input type="email" id="loginEmail" placeholder="mail@ornek.com">
            </div>
            <div class="form-group">
              <label for="loginPass">Şifre</label>
              <input type="password" id="loginPass" placeholder="Şifreniz">
            </div>
            <button class="account-btn" id="loginBtn">Giriş Yap</button>
          </div>

          <!-- Şifre Değiştir -->
          <div id="changePassSec" class="hidden">
            <h2>Şifre Değiştir</h2>
            <p class="account-info">Mevcut şifrenizi ve yeni şifrenizi giriniz.</p>
            <div class="form-group">
              <label for="oldPass">Eski Şifre</label>
              <input type="password" id="oldPass" placeholder="Eski Şifre">
            </div>
            <div class="form-group">
              <label for="newPass">Yeni Şifre</label>
              <input type="password" id="newPass" placeholder="Yeni Şifre">
            </div>
            <div class="form-group">
              <label for="newPass2">Yeni Şifre Tekrar</label>
              <input type="password" id="newPass2" placeholder="Yeni Şifre Tekrar">
            </div>
            <button class="account-btn" id="changePassBtn">Şifreyi Güncelle</button>
          </div>

          <!-- Profil Bilgileri -->
          <div id="profileSec" class="hidden">
            <h2>Profil Bilgileri</h2>
            <p class="account-info" id="profileInfo"></p>
          </div>

          <!-- Çıkış Yap -->
          <div id="logoutSec" class="hidden">
            <h2>Çıkış Yap</h2>
            <p class="account-info">Hesabınızdan çıkış yapmak istediğinize emin misiniz?</p>
            <button class="account-btn" id="logoutBtn">Evet, Çıkış Yap</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tefsir -->
  <section class="container" id="tefsirSection">
    <h2>Tefsir</h2>
    <div class="scroll-container" id="tefsirContainer"></div>
  </section>
  <!-- Hadis -->
  <section class="container" id="hadisSection">
    <h2>Hadis</h2>
    <div class="scroll-container" id="hadisContainer"></div>
  </section>
  <!-- Akide -->
  <section class="container" id="akideSection">
    <h2>Akide</h2>
    <div class="scroll-container" id="akideContainer"></div>
  </section>
  <!-- Fıkıh -->
  <section class="container" id="fikihSection">
    <h2>Fıkıh</h2>
    <div class="scroll-container" id="fikihContainer"></div>
  </section>
  <!-- Siyer -->
  <section class="container" id="siyerSection">
    <h2>Siyer</h2>
    <div class="scroll-container" id="siyerContainer"></div>
  </section>
  <!-- Ahlak Ve Tasavvuf -->
  <section class="container" id="ahlakSection">
    <h2>Ahlak Ve Tasavvuf</h2>
    <div class="scroll-container" id="ahlakContainer"></div>
  </section>
  <!-- Dua Ve Zikir -->
  <section class="container" id="duaSection">
    <h2>Dua Ve Zikir</h2>
    <div class="scroll-container" id="duaContainer"></div>
  </section>
  <!-- Genel -->
  <section class="container" id="genelSection">
    <h2>Genel</h2>
    <div class="scroll-container" id="genelContainer"></div>
  </section>

  <footer>
    <p>Tüm Hakları Gizlidir. &copy; 2024</p>
    <p>abdullah.ortakaya@doque.com.tr</p>
  </footer>

  <!-- Yukarı Çık Butonu -->
  <button id="scrollToTopBtn" aria-label="Yukarı Çık">▲</button>

  <!-- Favoriler Overlay -->
  <div id="favoritesOverlay">
    <div id="favoritesOverlayHeader">
      <h2>Favoriler</h2>
      <button id="closeFavoritesBtn">X</button>
    </div>
    <div id="favoritesContainer"></div>
  </div>

  <script>
    //----------------------------------------------------------------------------------------------------------------//
    /* Global Değişkenler */
    const JSON_URL = "https://raw.githubusercontent.com/MuzafferAbdullahOrtakaya/Islam-Kutuphanesi/refs/heads/main/Book.json";
    const MAX_BOOKS_PER_CATEGORY = 20;
    const categories = [
      { name: "Tefsir",            containerId: "tefsirContainer", sectionId: "tefsirSection" },
      { name: "Hadis",             containerId: "hadisContainer",  sectionId: "hadisSection" },
      { name: "Akide",             containerId: "akideContainer",  sectionId: "akideSection" },
      { name: "Fıkıh",             containerId: "fikihContainer",  sectionId: "fikihSection" },
      { name: "Siyer",             containerId: "siyerContainer",  sectionId: "siyerSection" },
      { name: "Ahlak Ve Tasavvuf", containerId: "ahlakContainer",  sectionId: "ahlakSection" },
      { name: "Dua Ve Zikir",      containerId: "duaContainer",    sectionId: "duaSection" },
      { name: "Genel",             containerId: "genelContainer",  sectionId: "genelSection" }
    ];
    let allBooks = [];

    /* Kayıtlı Kullanıcı Verilerini ve Favorileri LocalStorage'dan çek */
    let userData = JSON.parse(localStorage.getItem("userData")) || null;
    let favorites = JSON.parse(localStorage.getItem("favorites")) || [];

    //----------------------------------------------------------------------------------------------------------------//
    /* Sayfa Yüklendiğinde JSON'u Çek, Kategorileri Doldur */
    document.addEventListener("DOMContentLoaded", () => {
      fetch(JSON_URL)
        .then(response => response.json())
        .then(data => {
          allBooks = data.books || [];
          categories.forEach(cat => displayDailyCategoryBooks(cat.name, cat.containerId));
          initSearchFunctionality();
        })
        .catch(err => { console.error("books.json verisi çekilirken hata:", err); });
    });

    /* Her Kategori İçin Günlük Random 20 Kitap Seçme */
    function displayDailyCategoryBooks(categoryName, containerId) {
      const categoryBooks = allBooks.filter(b => b.category === categoryName);
      const shuffled = [...categoryBooks].sort(() => 0.5 - Math.random());
      const finalBooks = shuffled.slice(0, MAX_BOOKS_PER_CATEGORY);
      renderBooks(finalBooks, containerId);
    }

    /* Kitap Kartlarını Belirtilen Container'a Basma Fonksiyonu */
    function renderBooks(bookArray, containerId) {
      const container = document.getElementById(containerId);
      if (!container) return;
      container.innerHTML = "";
      bookArray.forEach(book => {
        const card = document.createElement("div");
        card.className = "book-card";
        card.style.backgroundImage = `url('${book.imageUrl}')`;
        card.setAttribute("aria-label", book.ariaLabel || book.name);

        card.addEventListener("click", (e) => {
          if (e.target.classList.contains("favorite-icon")) return;
          window.open(book.link, "_blank");
        });

        const titleDiv = document.createElement("div");
        titleDiv.className = "book-title";
        titleDiv.textContent = book.name;
        card.appendChild(titleDiv);

        const favIcon = document.createElement("div");
        favIcon.className = "favorite-icon";
        favIcon.textContent = favorites.some(f => f.link === book.link) ? "❤️" : "🤍";
        favIcon.addEventListener("click", (e) => {
          e.stopPropagation();
          if (!userData) {
            alert("Favorilemek için önce giriş yapmalısınız!");
            return;
          }
          toggleFavorite(book, favIcon);
        });

        card.appendChild(favIcon);
        container.appendChild(card);
      });
    }

    /* Favori Ekle/Çıkar Fonksiyonu */
    function toggleFavorite(book, favIconEl) {
      const isFav = favorites.some(f => f.link === book.link);
      if (!isFav) {
        favorites.push({
          name: book.name,
          link: book.link,
          imageUrl: book.imageUrl,
          category: book.category
        });
        favIconEl.textContent = "❤️";
      } else {
        favorites = favorites.filter(f => f.link !== book.link);
        favIconEl.textContent = "🤍";
      }
      localStorage.setItem("favorites", JSON.stringify(favorites));
    }

    //----------------------------------------------------------------------------------------------------------------//
    /* Arama Kutusu: Tüm Kategorilerde Arama */
    function initSearchFunctionality() {
      const searchToggle = document.getElementById("searchToggle");
      const searchContainer = document.getElementById("searchContainer");
      const searchInput = document.getElementById("searchInput");

      searchToggle.addEventListener("click", function() {
        searchContainer.classList.toggle("active");
        if (searchContainer.classList.contains("active")) {
          searchInput.focus();
        }
      });

      searchInput.addEventListener("input", function () {
        const filter = normalizeString(this.value.trim());
        if (!filter) {
          categories.forEach(cat => displayDailyCategoryBooks(cat.name, cat.containerId));
          return;
        }
        let scrolledToFirst = false;
        categories.forEach(cat => {
          const catBooks = allBooks.filter(b => b.category === cat.name);
          const words = filter.split(/\s+/);
          const filtered = catBooks.filter(book => {
            const title = normalizeString(book.name);
            const label = normalizeString(book.ariaLabel || "");
            return words.some(word => title.includes(word) || label.includes(word));
          });
          renderBooks(filtered, cat.containerId);
          if (filtered.length > 0 && !scrolledToFirst) {
            const targetContainer = document.getElementById(cat.containerId);
            if (targetContainer) {
              targetContainer.scrollIntoView({ behavior: "smooth", block: "center" });
            }
            scrolledToFirst = true;
          }
        });
      });
    }

    function normalizeString(str) {
      return str
        .toLowerCase()
        .replace(/ı/g, 'i')
        .replace(/ğ/g, 'g')
        .replace(/ü/g, 'u')
        .replace(/ş/g, 's')
        .replace(/ç/g, 'c')
        .replace(/ö/g, 'o')
        .replace(/İ/g, 'i')
        .replace(/I/g, 'i')
        .replace(/Ğ/g, 'g')
        .replace(/Ü/g, 'u')
        .replace(/Ş/g, 's')
        .replace(/Ç/g, 'c')
        .replace(/Ö/g, 'o')
        .replace(/\s+/g, '');
    }

    //----------------------------------------------------------------------------------------------------------------//
    /* Kategori Seçimi (Menü Linkleri) */
    const menuLinks = document.querySelectorAll(".menu-link");
    menuLinks.forEach(link => {
      link.addEventListener("click", function(ev) {
        ev.preventDefault();
        const categoryName = this.dataset.category;
        handleCategorySelection(categoryName);
        closeMenu();
      });
    });

    function handleCategorySelection(categoryName) {
      if (categoryName === "all") {
        categories.forEach(cat => {
          const section = document.getElementById(cat.sectionId);
          const container = document.getElementById(cat.containerId);
          section.style.display = "block";
          container.classList.remove("expanded-view");
          container.classList.add("scroll-container");
        });
        return;
      }
      categories.forEach(cat => {
        const section = document.getElementById(cat.sectionId);
        const container = document.getElementById(cat.containerId);
        if (cat.name === categoryName) {
          section.style.display = "block";
          container.classList.remove("scroll-container");
          container.classList.add("expanded-view");
        } else {
          section.style.display = "none";
          container.classList.remove("expanded-view");
          container.classList.add("scroll-container");
        }
      });
    }

    //----------------------------------------------------------------------------------------------------------------//
    /* Hamburger Menü Aç/Kapa (Desktop) */
    const hamburgerMenuToggle = document.getElementById("hamburgerMenuToggle");
    const hamburgerMenuOverlay = document.getElementById("hamburgerMenuOverlay");
    hamburgerMenuToggle.addEventListener("click", function() {
      this.classList.toggle("active");
      hamburgerMenuOverlay.classList.toggle("active");
      document.body.style.overflow = hamburgerMenuOverlay.classList.contains("active") ? "hidden" : "auto";
    });
    function closeMenu() {
      hamburgerMenuToggle.classList.remove("active");
      hamburgerMenuOverlay.classList.remove("active");
      document.body.style.overflow = "auto";
    }

    //----------------------------------------------------------------------------------------------------------------//
    /* Mobile Alt Menü Butonları */
    const mobileSearchBtn = document.getElementById("mobileSearchBtn");
    const mobileFavBtn = document.getElementById("mobileFavBtn");
    const mobileUserBtn = document.getElementById("mobileUserBtn");
    const mobileMenuBtn = document.getElementById("mobileMenuBtn");

    mobileSearchBtn.addEventListener("click", () => {
      document.getElementById("searchContainer").classList.toggle("active");
      const inputEl = document.getElementById("searchInput");
      if (document.getElementById("searchContainer").classList.contains("active")) {
        inputEl.focus();
      }
    });

    mobileFavBtn.addEventListener("click", () => {
      openFavorites();
    });

    mobileUserBtn.addEventListener("click", () => {
      openAccountModal();
    });

    mobileMenuBtn.addEventListener("click", () => {
      hamburgerMenuToggle.classList.toggle("active");
      hamburgerMenuOverlay.classList.toggle("active");
      document.body.style.overflow = hamburgerMenuOverlay.classList.contains("active") ? "hidden" : "auto";
    });

    //----------------------------------------------------------------------------------------------------------------//
    /* Site Dışına Tıklayınca Arama & Menü Kapanma */
    document.addEventListener("click", function(e) {
      const searchContainer = document.getElementById("searchContainer");
      const searchToggle = document.getElementById("searchToggle");
      if (
        searchContainer.classList.contains("active") &&
        !searchContainer.contains(e.target) &&
        !searchToggle.contains(e.target) &&
        e.target.id !== "mobileSearchBtn"
      ) {
        searchContainer.classList.remove("active");
      }
      if (
        hamburgerMenuOverlay.classList.contains("active") &&
        !hamburgerMenuOverlay.contains(e.target) &&
        e.target !== hamburgerMenuToggle &&
        !hamburgerMenuToggle.contains(e.target) &&
        e.target !== mobileMenuBtn
      ) {
        closeMenu();
      }
    });

    //----------------------------------------------------------------------------------------------------------------//
    /* Koyu Mod: sayfada boş bir yere 2 kere tıklayınca geçiş (Gerçek Amoled Siyah) */
    let lastClickTime = 0;
    document.addEventListener("click", function(e) {
      const now = Date.now();
      if (now - lastClickTime < 300) {
        document.body.classList.toggle("dark-mode");
      }
      lastClickTime = now;
    }, true);

    //----------------------------------------------------------------------------------------------------------------//
    /* Basit Namaz Vakti Hesaplayıcı */
    const prayerTimes = [
      { name: "İmsak",   time: "06:00" },
      { name: "Öğle",    time: "13:00" },
      { name: "İkindi",  time: "17:00" },
      { name: "Akşam",   time: "20:00" },
      { name: "Yatsı",   time: "22:00" }
    ];
    function updatePrayerBanner() {
      const topBanner = document.getElementById("topBanner");
      if (!topBanner) return;
      const now = new Date();
      let timesForToday = prayerTimes.map(p => {
        let [hour, minute] = p.time.split(':').map(Number);
        let d = new Date();
        d.setHours(hour, minute, 0, 0);
        return { ...p, date: d };
      });
      let nextPrayer = timesForToday.find(p => p.date > now);
      if (!nextPrayer) {
        const first = timesForToday[0];
        const tomorrow = new Date();
        tomorrow.setDate(tomorrow.getDate() + 1);
        tomorrow.setHours(
          parseInt(first.time.split(':')[0]),
          parseInt(first.time.split(':')[1]),
          0,
          0
        );
        nextPrayer = { ...first, date: tomorrow };
      }
      let diffMs = nextPrayer.date - now;
      let diffSec = Math.floor(diffMs / 1000);
      let hours = Math.floor(diffSec / 3600);
      let minutes = Math.floor((diffSec % 3600) / 60);
      let seconds = diffSec % 60;
      let displayText = `🧎 ${nextPrayer.name} (${nextPrayer.time}). Kalan: `;
      if (hours > 0) {
        displayText += `${hours}sa ${minutes}dk ${seconds}s`;
      } else if (minutes > 0) {
        displayText += `${minutes}dk ${seconds}s`;
      } else {
        displayText += `${seconds}s`;
      }
      topBanner.textContent = displayText;
    }
    document.addEventListener("DOMContentLoaded", () => {
      updatePrayerBanner();
      setInterval(updatePrayerBanner, 1000);
    });

    //----------------------------------------------------------------------------------------------------------------//
    /* Çevrimdışı / Çevrimiçi Algılama */
    function updateNetworkStatus() {
      const offlineBanner = document.getElementById("offlineBanner");
      if (navigator.onLine) {
        offlineBanner.style.display = "none";
      } else {
        offlineBanner.style.display = "block";
      }
    }
    window.addEventListener('online', updateNetworkStatus);
    window.addEventListener('offline', updateNetworkStatus);
    document.addEventListener("DOMContentLoaded", updateNetworkStatus);

    //----------------------------------------------------------------------------------------------------------------//
    /* Yukarı Çık Butonu */
    const scrollToTopBtn = document.getElementById("scrollToTopBtn");
    window.addEventListener('scroll', () => {
      if (window.scrollY > 200) {
        scrollToTopBtn.classList.add('show');
      } else {
        scrollToTopBtn.classList.remove('show');
      }
    });
    scrollToTopBtn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    //----------------------------------------------------------------------------------------------------------------//
    /* Favoriler Overlay Aç/Kapa + İçerik Bas */
    const favoriteIconBtn = document.getElementById("favoriteIconBtn");
    const favoritesOverlay = document.getElementById("favoritesOverlay");
    const closeFavoritesBtn = document.getElementById("closeFavoritesBtn");
    const favoritesContainer = document.getElementById("favoritesContainer");

    function openFavorites() {
      updateFavoritesUI();
      favoritesOverlay.classList.add("active");
      document.body.style.overflow = "hidden";
    }
    function closeFavorites() {
      favoritesOverlay.classList.remove("active");
      document.body.style.overflow = "auto";
    }

    favoriteIconBtn.addEventListener("click", () => {
      openFavorites();
    });
    closeFavoritesBtn.addEventListener("click", () => {
      closeFavorites();
    });

    function updateFavoritesUI() {
      favoritesContainer.innerHTML = "";
      if (favorites.length === 0) {
        const msg = document.createElement("p");
        msg.style.color = "#fff";
        msg.textContent = "Hiç favori kitabınız yok!";
        favoritesContainer.appendChild(msg);
        return;
      }
      favorites.forEach(fav => {
        const favBookCard = document.createElement("div");
        favBookCard.className = "favorite-book-card";

        favBookCard.addEventListener("click", () => {
          window.open(fav.link, "_blank");
        });

        const thumb = document.createElement("div");
        thumb.className = "favorite-book-thumb";
        thumb.style.backgroundImage = `url('${fav.imageUrl}')`;

        const info = document.createElement("div");
        info.className = "favorite-book-info";
        const title = document.createElement("h4");
        title.textContent = fav.name;
        const cat = document.createElement("p");
        cat.textContent = fav.category;
        info.appendChild(title);
        info.appendChild(cat);

        favBookCard.appendChild(thumb);
        favBookCard.appendChild(info);
        favoritesContainer.appendChild(favBookCard);
      });
    }

    //----------------------------------------------------------------------------------------------------------------//
    /* Kullanıcı Paneli Modal Aç/Kapa */
    const accountModal = document.getElementById("accountModal");
    const accountCloseBtn = document.getElementById("accountCloseBtn");
    const userIconBtnDesktop = document.getElementById("userIconBtn");

    userIconBtnDesktop.addEventListener("click", openAccountModal);
    accountCloseBtn.addEventListener("click", closeAccountModal);

    function openAccountModal() {
      accountModal.style.display = "block";
      document.body.style.overflow = "hidden";
      updateAccountLeftPanel();
    }
    function closeAccountModal() {
      accountModal.style.display = "none";
      document.body.style.overflow = "auto";
    }

    // Modal dışına tıklayınca kapama
    window.addEventListener("click", (e) => {
      if (e.target === accountModal) {
        closeAccountModal();
      }
    });

    /* Kullanıcı Paneli Soldaki Butonlar */
    const leftPanelButtons = document.querySelectorAll(".account-left-panel button");
    const registerSec = document.getElementById("registerSec");
    const loginSec = document.getElementById("loginSec");
    const changePassSec = document.getElementById("changePassSec");
    const profileSec = document.getElementById("profileSec");
    const logoutSec = document.getElementById("logoutSec");

    function hideAllSections() {
      registerSec.classList.add("hidden");
      loginSec.classList.add("hidden");
      changePassSec.classList.add("hidden");
      profileSec.classList.add("hidden");
      logoutSec.classList.add("hidden");
    }

    leftPanelButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        hideAllSections();
        const secName = btn.getAttribute("data-section");
        document.getElementById(secName).classList.remove("hidden");
        scrollPanelTop();
      });
    });

    function scrollPanelTop() {
      document.querySelector(".account-right-panel").scrollTop = 0;
    }

    function updateAccountLeftPanel() {
      const isLoggedIn = !!userData;
      leftPanelButtons.forEach(btn => {
        const sec = btn.getAttribute("data-section");
        if ((sec === "registerSec" || sec === "loginSec") && isLoggedIn) {
          btn.disabled = true;
          btn.style.opacity = "0.5";
          btn.style.cursor = "not-allowed";
        } else if ((sec === "changePassSec" || sec === "profileSec" || sec === "logoutSec") && !isLoggedIn) {
          btn.disabled = true;
          btn.style.opacity = "0.5";
          btn.style.cursor = "not-allowed";
        } else {
          btn.disabled = false;
          btn.style.opacity = "1";
          btn.style.cursor = "pointer";
        }
      });
      if (isLoggedIn) {
        hideAllSections();
        profileSec.classList.remove("hidden");
        renderProfileInfo();
      } else {
        hideAllSections();
        loginSec.classList.remove("hidden");
      }
    }

    //----------------------------------------------------------------------------------------------------------------//
    /* Kayıt Ol, Giriş Yap, Şifre Değiştir, Profil, Çıkış */
    const registerBtn = document.getElementById("registerBtn");
    const loginBtn = document.getElementById("loginBtn");
    const changePassBtn = document.getElementById("changePassBtn");
    const logoutBtn = document.getElementById("logoutBtn");
    const profileInfo = document.getElementById("profileInfo");

    // Kayıt Ol
    registerBtn.addEventListener("click", () => {
      const fullName = document.getElementById("regFullName").value.trim();
      const email = document.getElementById("regEmail").value.trim();
      const pass = document.getElementById("regPass").value.trim();
      const pass2 = document.getElementById("regPass2").value.trim();
      if (!fullName || !email || !pass || !pass2) {
        alert("Lütfen tüm alanları doldurun!");
        return;
      }
      if (pass !== pass2) {
        alert("Şifreler eşleşmiyor!");
        return;
      }
      userData = { fullName, email, password: pass };
      localStorage.setItem("userData", JSON.stringify(userData));
      alert("Kayıt işlemi başarılı!");
      updateAccountLeftPanel();
    });

    // Giriş Yap
    loginBtn.addEventListener("click", () => {
      const email = document.getElementById("loginEmail").value.trim();
      const pass = document.getElementById("loginPass").value.trim();
      if (!email || !pass) {
        alert("Lütfen e-posta ve şifrenizi girin.");
        return;
      }
      const stored = JSON.parse(localStorage.getItem("userData"));
      if (!stored) {
        alert("Kayıt bulunamadı!");
        return;
      }
      if (stored.email === email && stored.password === pass) {
        userData = stored;
        alert("Giriş başarılı!");
        updateAccountLeftPanel();
      } else {
        alert("E-posta veya şifre hatalı!");
      }
    });

    // Şifre Değiştir
    changePassBtn.addEventListener("click", () => {
      if (!userData) {
        alert("Bu işlemi yapmak için giriş yapmalısınız!");
        return;
      }
      const oldP = document.getElementById("oldPass").value.trim();
      const newP = document.getElementById("newPass").value.trim();
      const newP2 = document.getElementById("newPass2").value.trim();
      if (!oldP || !newP || !newP2) {
        alert("Lütfen tüm alanları doldurun!");
        return;
      }
      if (oldP !== userData.password) {
        alert("Mevcut şifreniz hatalı!");
        return;
      }
      if (newP !== newP2) {
        alert("Yeni şifreler eşleşmiyor!");
        return;
      }
      userData.password = newP;
      localStorage.setItem("userData", JSON.stringify(userData));
      alert("Şifreniz güncellendi!");
      document.getElementById("oldPass").value = "";
      document.getElementById("newPass").value = "";
      document.getElementById("newPass2").value = "";
    });

    // Profil Bilgileri
    function renderProfileInfo() {
      if (!userData) {
        profileInfo.textContent = "Giriş yapmamışsınız.";
      } else {
        profileInfo.innerHTML = `
          <strong>Ad Soyad:</strong> ${userData.fullName || "Belirtilmemiş"}<br>
          <strong>E-Posta:</strong> ${userData.email}
        `;
      }
    }

    // Çıkış Yap
    logoutBtn.addEventListener("click", () => {
      if (confirm("Hesabınızdan çıkış yapmak istediğinize emin misiniz?")) {
        userData = null;
        localStorage.removeItem("userData");
        alert("Çıkış yapıldı.");
        updateAccountLeftPanel();
      }
    });

    //----------------------------------------------------------------------------------------------------------------//
    /* Lazy Loading Basit Yaklaşım (Kitap Kartları) */
    document.addEventListener("DOMContentLoaded", function() {
      const lazyImages = document.querySelectorAll('.book-card');
      const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            observer.unobserve(entry.target);
          }
        });
      });
      lazyImages.forEach(image => {
        imageObserver.observe(image);
      });
    });

    //----------------------------------------------------------------------------------------------------------------//
    /* Anasayfa Otomatik Yatay Kaydırma */
    const scrollContainers = document.querySelectorAll('.scroll-container');
    const scrollSpeed = 4;
    const edgeWidth = 175;
    scrollContainers.forEach(container => {
      let isScrolling = false;
      let scrollDirection = 0;
      const handleMouseMove = (e) => {
        const rect = container.getBoundingClientRect();
        const mouseX = e.clientX - rect.left;
        if (mouseX < edgeWidth) {
          scrollDirection = -1;
        } else if (mouseX > rect.width - edgeWidth) {
          scrollDirection = 1;
        } else {
          scrollDirection = 0;
        }
        if (scrollDirection !== 0 && !isScrolling) {
          isScrolling = true;
          requestAnimationFrame(scrollStep);
        }
      };
      const handleMouseLeave = () => {
        scrollDirection = 0;
        isScrolling = false;
      };
      const scrollStep = () => {
        if (scrollDirection === -1) container.scrollLeft -= scrollSpeed;
        else if (scrollDirection === 1) container.scrollLeft += scrollSpeed;
        if (scrollDirection !== 0) requestAnimationFrame(scrollStep);
        else isScrolling = false;
      };
      container.addEventListener('mousemove', handleMouseMove);
      container.addEventListener('mouseleave', handleMouseLeave);
    });
  </script>
</body>
</html>

